<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Title</title>
    <style>
        .artist-main-info {
            /*background-color: green;*/

            width: 1200px;
            height: 1500px;
            color: white;

            margin: 0 auto;
            margin-top: 30px;

            background-size: cover;
            background-position: center;
            padding-top: 40px;
        }
        .mypage{
            background-color: dodgerblue;

            width: 340px;
            height: 100px;
            color: white;

            font-size: 50px;

            border-radius:10px;
            /*border : 5px solid red;*/

            margin: 30px auto auto 50px;

            background-size: cover;
            background-position: center;
            display: block;

            padding:10px 0px 0px 30px;

        }

        .card-img-top{
            width: 80px;
            height: 80px;
        }

        .mylike{
            width:900px;

            font-size: 30px;

            margin:30px auto auto auto;

        }

        .main_button{
            width:120px;


            margin:20px 0px 0px 950px;



        }

    </style>
    <script>
<!--    메인으로 돌아가는 기능    -->
        function to_main(){
            window.location.href="/"
        }

        //노래로 가기
        function to_song(){
            window.location.href="/music/${musicId}"
        }

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            get_list()
        })

        function get_list() {
            // $('#song-list').empty();
            $.ajax({
                type: "GET",
                url: "/playlist",
                data: {},
                success: function (response) {
                    let playlist = response['playlist'];

                    for (let i=0;i<playlist.length;i++){
                        let num=playlist[i][a];
                        let title=playlist[i]['title'];
                        let singer=playlist[i]['singer'];
                        let albumtitles=playlist[i]['albumtitles'];

                        // let star_image='⭐'.repeat(star)

                        let temp_html=`<tr>
                                            <th scope="row">${num}</th>
                                            <td><img
                                                    src="${img}"
                                                    class="card-img-top" alt="..."></td>
                                            <td>${title}</td>
                                            <td>${singer}</td>
                                            <td>${albumtitles}</td>
<!--                                            // <td>${star_image}</td>-->
                                       </tr>`

                        $('#song-list').append(temp_html);
                    }
                }
            })
        }
    </script>
    </script>
</head>
<body>
<!--  마이페이지 제일 큰 틀  -->
    <div class="artist-main-info">
        <div class="mypage">마이 페이지</div>
        <button type="button" class="btn btn-primary main_button">돌아가기</button>
        <div>
        <div class="mylike">
<!--            밑에 내가 추가한 아티스트목록-->
            <table class="table" id="song-list">
                <thead>
                <tr>
                    <th scope="col">NO.</th>
                    <th scope="col">커버</th>
                    <th scope="col">아티스트</th>
                    <th scope="col">앨범명</th>
<!--                    <th scope="col">⭐</th>-->
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td><img src="https://image.genie.co.kr/Y/IMAGE/IMG_ALBUM/082/662/688/82662688_1651196114166_1_140x140.JPG/dims/resize/Q_80,0" class="card-img-top" alt="..."></td>
                    <td>MSG워너비</td>
                    <td>싸다9</td>
                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td><img src="https://image.genie.co.kr/Y/IMAGE/IMG_ALBUM/082/624/911/82624911_1649062753955_1_140x140.JPG/dims/resize/Q_80,0" class="card-img-top" alt="..."></td>
                    <td>에스파</td>
                    <td>봄여름가을겨울 (Still Life)</td>
                </tr>
                <tr>
                    <th scope="row">3</th>
                    <td><img src="https://image.genie.co.kr/Y/IMAGE/IMG_ALBUM/082/624/363/82624363_1649123068092_1_140x140.JPG/dims/resize/Q_80,0" class="card-img-top" alt="..."></td>
                    <td>IVE (아이브)</td>
                    <td>LOVE DIVE</td>
                </tr>
                </tbody>
            </table>
        </div>
        </div>
    </div>


<!--<script>-->
<!--    function() {-->
<!--      var ws = new WebSocket('ws://' + window.location.host + '/jb-server-page?reloadServiceClientId=5');-->
<!--      ws.onmessage = function (msg) {-->
<!--          if (msg.data === 'reload') {-->
<!--              window.location.reload();-->
<!--          }-->
<!--          if (msg.data.startsWith('update-css ')) {-->
<!--              var messageId = msg.data.substring(11);-->
<!--              var links = document.getElementsByTagName('link');-->
<!--              for (var i = 0; i < links.length; i++) {-->
<!--                  var link = links[i];-->
<!--                  if (link.rel !== 'stylesheet') continue;-->
<!--                  var clonedLink = link.cloneNode(true);-->
<!--                  var newHref = link.href.replace(/(&|\?)jbUpdateLinksId=\d+/, "$1jbUpdateLinksId=" + messageId);-->
<!--                  if (newHref !== link.href) {-->
<!--                    clonedLink.href = newHref;-->
<!--                  }-->
<!--                  else {-->
<!--                    var indexOfQuest = newHref.indexOf('?');-->
<!--                    if (indexOfQuest >= 0) {-->
<!--                      // to support ?foo#hash-->
<!--                      clonedLink.href = newHref.substring(0, indexOfQuest + 1) + 'jbUpdateLinksId=' + messageId + '&' +-->
<!--                                        newHref.substring(indexOfQuest + 1);-->
<!--                    }-->
<!--                    else {-->
<!--                      clonedLink.href += '?' + 'jbUpdateLinksId=' + messageId;-->
<!--                    }-->
<!--                  }-->
<!--                  link.replaceWith(clonedLink);-->
<!--              }-->
<!--          }-->
<!--      };-->
<!--};-->
<!--</script>-->
</body>
</html>